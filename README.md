# Intelligent Deal Finder ü§ñüí∏

**Intelligent Deal Finder** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π End-to-End MLOps-–ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø–æ–∏—Å–∫ –≤—ã–≥–æ–¥–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ –ø—Ä–æ–¥–∞–∂–µ –ø–æ–¥–µ—Ä–∂–∞–Ω–Ω—ã—Ö iPhone –Ω–∞ Avito.

–°–∏—Å—Ç–µ–º–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é —Å–æ–±–∏—Ä–∞–µ—Ç —Å–≤–µ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è (`RandomForestRegressor`) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω—ã –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram, –µ—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ, —Ü–µ–Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∏–∂–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–π.

---

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:** –ü–∞–π–ø–ª–∞–π–Ω –Ω–∞ **Airflow** –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä –Ω–∞ **Selenium**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è.
*   **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:** –û–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ —Ç—ã—Å—è—á–∞—Ö –∑–∞–ø–∏—Å–µ–π **ML-–º–æ–¥–µ–ª—å** –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç "—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—É—é" —Ü–µ–Ω—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞, —É—á–∏—Ç—ã–≤–∞—è –µ–≥–æ –º–æ–¥–µ–ª—å, –æ–±—ä–µ–º –ø–∞–º—è—Ç–∏.
*   **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ï—Å–ª–∏ —Ä–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –Ω–∏–∂–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–π –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –ø–æ—Ä–æ–≥, –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ **Telegram** —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –≤—ã–≥–æ–¥—ã –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ç–æ–≤–∞—Ä.
*   **–ù–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ:** –í—Å–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö **PostgreSQL**, —Å–æ–∑–¥–∞–≤–∞—è —Ü–µ–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –±—É–¥—É—â–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏.
*   **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (URL –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –ø–æ—Ä–æ–≥ –≤—ã–≥–æ–¥—ã) –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –µ–¥–∏–Ω—ã–π `config.yaml` —Ñ–∞–π–ª –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –∫–æ–¥.
*   **–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å:** –í–µ—Å—å –ø—Ä–æ–µ–∫—Ç, –≤–∫–ª—é—á–∞—è –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –ø–∞—Ä—Å–µ—Ä –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ **Docker**-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ª–µ–≥–∫–∏–π –∑–∞–ø—É—Å–∫ –Ω–∞ –ª—é–±–æ–π –º–∞—à–∏–Ω–µ.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

*   **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è:** Apache Airflow
*   **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:** Selenium, BeautifulSoup4
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL
*   **ML/–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö:** Scikit-learn, Pandas
*   **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker, Docker Compose
*   **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** Telegram Bot API
*   **–Ø–∑—ã–∫:** Python 3.8

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é Airflow DAG:

1.  **`gather_data_task` (–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö):**
    *   Airflow –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `src/core/worker.py`.
    *   `worker.py` –≤—ã–∑—ã–≤–∞–µ—Ç Selenium-–ø–∞—Ä—Å–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å Avito.
    *   –î–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è (–æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å "–∏–¥–µ–∞–ª—å–Ω—ã–º" —Ñ–æ—Ä–º–∞—Ç–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞) –∏ –æ–±–æ–≥–∞—â–∞—é—Ç—Å—è (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ `model` –∏ `memory`).
    *   –ù–æ–≤—ã–µ, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL.
    *   –°–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â—É—é –∑–∞–¥–∞—á—É.

2.  **`predict_and_filter_task` (–ê–Ω–∞–ª–∏–∑ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è):**
    *   –ó–∞–¥–∞—á–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π.
    *   –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å (`price_predictor_model.pkl`).
    *   –ú–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç "—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—É—é" —Ü–µ–Ω—É.
    *   –û–±—ä—è–≤–ª–µ–Ω–∏—è, —É –∫–æ—Ç–æ—Ä—ã—Ö `–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è_—Ü–µ–Ω–∞ - —Ä–µ–∞–ª—å–Ω–∞—è_—Ü–µ–Ω–∞ > –ø–æ—Ä–æ–≥_–≤—ã–≥–æ–¥—ã`, –æ—Ç–±–∏—Ä–∞—é—Ç—Å—è –∫–∞–∫ –≤—ã–≥–æ–¥–Ω—ã–µ.
    *   –°–ø–∏—Å–æ–∫ –≤—ã–≥–æ–¥–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –¥–∞–ª—å—à–µ.

3.  **`send_notifications_task` (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ):**
    *   –ó–∞–¥–∞—á–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—ã–≥–æ–¥–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.
    *   –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è, —Ü–µ–Ω—ã, –æ–∂–∏–¥–∞–µ–º–æ–π –≤—ã–≥–æ–¥—ã –∏ —Å—Å—ã–ª–∫–æ–π.
    *   –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ Telegram.

---

## üèÅ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   [Git](https://git-scm.com/downloads)
*   [Docker](https://www.docker.com/products/docker-desktop/)
*   [Docker Compose](https://docs.docker.com/compose/install/)

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/k1ree8/intelligent-deal-finder.git
    cd intelligent-deal-finder
    ```

2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    *   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `configs/.env.example` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –≤ `.env`.
    *   –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ **–≤—Å–µ** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
        ```dotenv
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        POSTGRES_USER=admin
        POSTGRES_PASSWORD=(–≤–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å)
        POSTGRES_DB=deal_finder_db
        POSTGRES_HOST=app-db
        POSTGRES_PORT=5432

        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Telegram
        # –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —É @BotFather –≤ Telegram
        TELEGRAM_BOT_TOKEN=(–≤–∞—à —Ç–æ–∫–µ–Ω –¥–ª—è Telegram –±–æ—Ç–∞) 
        # –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π ID —É –±–æ—Ç–∞ @userinfobot
        TELEGRAM_CHAT_ID=(–≤–∞—à ID –≤ Telegram)
        ```

3.  **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
    –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑—ã, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (PostgreSQL, Airflow, Redis) –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.
    ```bash
    docker-compose up --build -d
    ```
    *–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.*

4.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Airflow:**
    *   –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Airflow –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:8080`
    *   –í–æ–π–¥–∏—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É—è –ª–æ–≥–∏–Ω `airflow` –∏ –ø–∞—Ä–æ–ª—å `airflow`.
    *   –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞–π–¥–∏—Ç–µ DAG —Å ID `process_avito_ads` –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ, –ø–µ—Ä–µ–∫–ª—é—á–∏–≤ —Ç—É–º–±–ª–µ—Ä —Å–ª–µ–≤–∞.

5.  **–ì–æ—Ç–æ–≤–æ!** –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞. DAG –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ `configs/config.yaml`, –∏–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É "Play" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Airflow.

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `configs/config.yaml`.

*   `avito.target_url`: URL-–∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã Avito, –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä.
*   `avito.pages_to_scan`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫.
*   `model.profit_threshold`: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–π –∏ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π, —á—Ç–æ–±—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å—á–∏—Ç–∞–ª–æ—Å—å –≤—ã–≥–æ–¥–Ω—ã–º.
*   `airflow.schedule_interval`: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ DAG –≤ —Ñ–æ—Ä–º–∞—Ç–µ `cron`. –ï—Å–ª–∏ `null`, DAG –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é.

---

## üîÑ –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–°–æ –≤—Ä–µ–º–µ–Ω–µ–º —Ä—ã–Ω–æ–∫ –º–µ–Ω—è–µ—Ç—Å—è, –∏ –º–æ–¥–µ–ª—å –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å. –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–æ—É—Ç–±—É–∫ `notebooks/model_retraining.ipynb`.

1.  **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ:** –°–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –≤–∞—à–µ–π PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ `data/ads_export.csv`.
    ```bash
    # 1. –ù–∞–π—Ç–∏ ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –±–∞–∑–æ–π
    docker ps
    # 2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
    docker exec -it (ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ app-db) /bin/bash
    # 3. –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ psql
    psql -U (–≤–∞—à POSTGRES_USER) -d (–≤–∞—à POSTGRES_DB)
    # 4. –í–Ω—É—Ç—Ä–∏ psql –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç
    \copy (SELECT * FROM ads) to '/tmp/ads_export.csv' WITH (FORMAT CSV, HEADER);
    # 5. –í—ã–π—Ç–∏ –∏–∑ psql (\q) –∏ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (exit)
    # 6. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É
    docker cp (ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ app-db):/tmp/ads_export.csv ./data/ads_export.csv
    ```

2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ—É—Ç–±—É–∫:** –û—Ç–∫—Ä–æ–π—Ç–µ `notebooks/model_retraining.ipynb` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ —è—á–µ–π–∫–∏ (`Run All Cells`).

3.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∫—Ä–∏–ø—Ç –æ–±—É—á–∏—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å –Ω–∞ —Å–≤–µ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã `price_predictor_model.pkl` –∏ `model_columns.json` –≤ –ø–∞–ø–∫—É `models`.

4.  **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å:** –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑, —á—Ç–æ–±—ã "–∑–∞–ø–µ—á—å" –≤ –Ω–µ–≥–æ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å.
    ```bash
    docker-compose up --build -d
    ```